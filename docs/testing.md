# テスト

## 目的

- **回帰防止**: 「挨拶でツールが走らない」「ツールログがUIに出ない」などUX事故を固定する
- **初見で迷わない**: 最低限のコマンドと、テストの置き場所を明確にする

## 実行方法

```bash
npm test
```

開発中はウォッチ:

```bash
npm run test:watch
```

## テスト方針（最小）

- **API**: `app/api/*` は「入力 → 出力」をユニット寄りにテストする（外部LLM/外部APIはモック）
- **UX事故防止**: Tool実行ログや推測の事実断言などは、専用テストで明示的に防ぐ

## 追加するテストの例

- `/api/chat` に「こんにちは」を送っても、天気や tool 由来の事実を返さない
- toolログ風の文字列（`[TOOL_RESULT]` 等）がレスポンスに混入しない

